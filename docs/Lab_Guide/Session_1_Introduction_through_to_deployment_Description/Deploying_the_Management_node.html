<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="../../css/bootstrap-4.4.1.css" rel="stylesheet" type="text/css">
    <link href="../../css/styles.css" rel="stylesheet" type="text/css" media="screen">
    <script src="../../js/jquery-3.4.1.min.js"></script>
    <script src="../../js/popper.min.js"></script>
    <script src="../../js/bootstrap-4.4.1.js"></script>
    <title>Deploying the Management node</title>
</head>

<body>
    <h1 id="header">Deploying the Management node</h1>
    <p><img src="../../images/mgt_node.svg" alt="" /></p>
    <section>

        <p>Use <strong>section #3</strong> and <strong>section #</strong><strong>4.1</strong> of the lab sheet.</p>
        <p>The Management Node is the first component you need to install in an Infinity deployment. It allows you to
            configure various Pexip Infinity services and integrations with other systems and provides a central point
            to
            view both ongoing and historical conferences. It also acts as a Syslog server, providing a unified set of
            logs
            from all nodes within a deployment, including itself. It doesn&rsquo;t take part in any conferencing duties,
            so
            no media or call signalling will pass through it. Currently, there is only one management node per Pexip
            Infinity deployment (although this may change in a later version). <u>Every change you make on the
                management
                node takes up to 1 minute to replicate to other nodes in the deployment.</u>&nbsp;</p>
        <p>Pexip Infinity nodes run in a pure virtualised environment. You can think of a virtualised environment as
            having
            two main components:</p>
        <ul>
            <li>The <strong>host</strong>: this is the physical machine that is used to run the hypervisor.</li>
            <li>The <strong>guests</strong>: these are Virtual Machines (VMs) that run inside the hypervisor on the
                host.
            </li>
        </ul>
        <p>In this lab, we will use VMware ESXi as the hypervisor, but Pexip can run on many other hypervisors, both
            OnPrem and in the cloud. 
        OnPrem hypervisors include HyperV, Zen and KVM; cloud platforms include Azure, GCP, AWS and OCI (as a technical preview in v26).</p>
        <hr>
        <p>&nbsp;</p>

    </section>
    <section>
        <h3 class="main">Setting the correct time</h3>

        <p>Correct time synchronisation is crucial to the proper functioning of Pexip Infinity. When you deploy the
            management node, you will specify an NTP server, and assuming you have specified this correctly and have
            assigned the correct network VLAN to the guest, then the time on the Management node will be correct. If you
            get
            any of this incorrect and the NTP server cannot be reached by the Management Node, the node will not boot.
        </p>
        <p>When you deploy a Conferencing Node, it will in the first instance get its time from the host. If this is
            wrong,
            your new node may not be able to connect to the Management Node due to mismatched timestamps. The time on
            the
            <strong><u>host</u></strong> <em>may</em> be incorrect, so you may need to set this (see <a
                href="https://docs.pexip.com/admin/configuring_vmware.htm" target="_blank"
                title="Pexip Docs">https://docs.pexip.com/admin/configuring_vmware.htm</a>).
        </p>
        <p>To connect to the hypervisor from your remote desktop session, you need to browse to the vCenter management
            interface and log in with the username and password provided on the Lab Sheet in <strong>section
                #3</strong>.
            <strong><u>Login using the HTML5 client option.</u></strong></p>
        <hr>
        <p>&nbsp;</p>

    </section>
    <h3 class="main">Deployment and initial configuration of the Management Node</h3>

    <p>When deploying the Management Node, you will need to connect to the hypervisor and upload an OVF template
        (although you will upload an OVA file). You can install it from a URL, which is the preferred method as this is
        generally much quicker. The link can be found from the Pexip websites (either <a
            href="https://dl.pexip.com/infinity/index.html" target="_blank"
            title="Pexip Infinity Downloads">https://dl.pexip.com/infinity/index.html</a> or <a
            href="https://www.pexip.com/platform-downloads/infinity/current-release" target="_blank"
            title="Pexip Platform Downloads">https://www.pexip.com/platform-downloads/infinity/current-release</a>)
        by <strong>right (or option) clicking</strong> the relevant &ldquo;Generic Management Node&rdquo; image (OVA)
        file and copying the link (which will look something like&nbsp;<a
            href="https://dl.pexip.com/infinity/v26/Pexip_Infinity_v26_generic_pxMgr_62340.ova" target="_blank"
            title="Pexip v26 Generic Management Node OVA file">https://dl.pexip.com/infinity/v26/Pexip_Infinity_v26_generic_pxMgr_62340.ova</a>).
        You will need to grab the correct stable version for your training, so double-check with the trainer which will
        be a Generic Management Node image (OVA) file you need. <strong>NOTE:</strong> Unfortunately, VMware seem not to
        have any publicly trusted CA certs distributed as part of their default CA store, so you may see an SSL warning
        where the AWS issued root CA cert has not been added to the trusted CA store in vCentre.&nbsp;</p>
    <p>Alternatively, this file can be found via the &ldquo;Pexip folder&rdquo; shortcut on the desktop of your RDP
        session (the actual path will be &ldquo;<strong>E:\Pexip\Group Folders\&lt;Your Group&gt;\Pexip
            Software\Deploy\</strong>&rdquo; folder).&nbsp;</p>
    <p>All nodes should be thick provisioned and ensure you give the node a proper name for your group, otherwise,
        things get confusing later.</p>
    <p>Once the image has been uploaded to the hypervisor, you can then start the guest and open a terminal window to
        finish the install wizard configuration process via the CLI. <strong style="color: #FF0000">IMPORTANT NOTE: The
            SSH Password is the
            &ldquo;Key to your Kingdom&rdquo; &ndash; if you lose or forget this, you may have to manually redeploy the
            entire system in the future.</strong> <u>Please also ensure you use the terminal and web admin password of
            &ldquo;<strong>Pexip123</strong>&rdquo;</u> (so we can help). &nbsp;</p>
    <p>Disable incident reporting and usage statistics, although in your own (or your customers) Infinity deployments, you would likely want to have this option enabled as it allows Pexip to provide proactive support for your deployment. </p>
<p>You can then log on to the Management Node using a browser and its FQDN, although you will need to accept the
    security warning as the nodes only have self-signed certificates at this point. We will fix that in session 2. Once logged in, you should double check the reporting setting in <strong>Platform Settings --&gt; Global Settings --&gt; Reporting</strong> and ensure that the "Enable incident reporting" option is unchecked. You should also ensure you have added a proper distibution email in the "Contact email address" field, in this case make it <strong>traininglab@pexip.com</strong>.</p>
    <p>Refer to&nbsp;<a class="general" href="https://docs.pexip.com/admin/installing_management_node_vmware.htm" target="_blank"
            title="Pexip Docs">https://docs.pexip.com/admin/installing_management_node_vmware.htm</a> and <a href="https://docs.pexip.com/admin/global_settings.htm#reporting" title="Pexip Docs" target="_blank">https://docs.pexip.com/admin/global_settings.htm#reporting </a> </p>
    
</body>

</html>